<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head.html :: head"></head>
<body>
<header th:replace="fragments/header.html :: header"></header>


<div class="container mb-3 mt-3">
    <a sec:authorize="hasAuthority('ADMIN')" class="btn btn-primary mt-2 mb-2" href="/faculty/add">Add new faculty</a>

    <table class="table table-striped table-bordered facultyList" style="width: 100%">
        <thead>
        <tr>
            <th>Name of faculty</th>
            <th>Count of budget places</th>
            <th>Count of contract places</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="faculty : ${faculties}">
            <td th:text="${faculty.name}"></td>
            <td th:text="${faculty.budgetPlaces}"></td>
            <td th:text="${faculty.contractPlaces}"></td>
            <td sec:authorize="hasAuthority('ADMIN')"><a th:href="@{/faculty/{id}(id=${faculty.id})}" th:text="edit"></a></td>
        </tr>
        </tbody>
    </table>
</div>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/dataTables.bootstrap4.min.js"></script>

    <script>
        $(document).ready(function() {
            $('.facultyList').DataTable({
                aaSorting: [0, "asc"],
                pagingType: 'full_numbers',
                lengthMenu: [5, 10, 25, 50],
                searching: false
            });
        });
    </script>
</body>
</html>